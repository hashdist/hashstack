# This profile file controls your <#> (HashDist) build environment.

# In the future, we'll provide better incorporation of
# automatic environment detection.  For now, have a look
# at the YAML files in the top-level directory and choose
# the most *specific* file that matches your environment.

extends:
 - file: osx.yaml

parameters:
  HOST_MPICC: /usr/local/bin/mpicc
  HOST_MPICXX: /usr/local/bin/mpic++
  HOST_CMAKE: /usr/local/bin/cmake
  PROLOGUE: |
    export MACOSX_DEPLOYMENT_TARGET=$(sw_vers -productVersion | sed "s/\(10.[0-9]\).*/\1/"); export CXX=/usr/bin/clang++; export CC=/usr/bin/clang;

# The packages list specifies all the packages that you
# require installed.  <#> will ensure that all packages
# and their dependencies are installed when you build this
# profile.

packages:
  #blas and lapack are required by numpy
  blas:
    use: host-osx-framework-accelerate
  lapack:
    use: host-osx-framework-accelerate
  cmake:
    use: host-cmake
  mpi:
    use: host-mpi

  libxml2:
  png:
  szip:
  zlib:
  boost:
    toolset: clang
    address_model: 64

  #file format packages
  hdf5:
  netcdf4:
  netcdf4cpp:

  #now the rest
  freetype:
  gdal:
  kml:
  matplotlib:
  molequeue:
  numpy:
  python:
  qt:
    toolset: unsupported/macx-clang
    arch: x86_64
  remus:
  shiboken:
  smtk:
  vxl:
  zmq:
  launcher:
  paraview:
  cmb:

  #not worth the time to enable
  #ffmpeg: